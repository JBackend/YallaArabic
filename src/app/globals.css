@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --foreground: 61 53 48;
    --background: 253 248 243;
  }

  .dark {
    --foreground: 245 237 228;
    --background: 31 26 23;
  }

  body {
    color: rgb(var(--foreground));
    background: rgb(var(--background));
    font-family: 'Nunito', 'Quicksand', sans-serif;
  }
}

@layer components {
  /* Fade in animation */
  .animate-fade-in {
    animation: fadeIn 300ms ease-out;
  }

  /* Card reveal animation */
  .animate-card-reveal {
    animation: cardReveal 250ms ease-out;
  }

  /* Gentle pulse animation */
  .animate-pulse-gentle {
    animation: pulseGentle 200ms ease-in-out;
  }

  /* Progress fill animation */
  .animate-progress-fill {
    animation: progressFill 400ms ease-out;
  }

  /* Stagger children animation */
  .stagger-children > * {
    animation: fadeIn 300ms ease-out backwards;
  }
  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 50ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 100ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 150ms; }
}

@layer utilities {
  /* Arabic text styling */
  .arabic-text {
    font-family: 'Noto Sans Arabic', sans-serif;
    direction: rtl;
  }

  /* Safe area padding for PWA */
  .safe-area-inset {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* Keyframes */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes cardReveal {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulseGentle {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

@keyframes progressFill {
  from {
    width: 0%;
  }
  to {
    width: var(--progress-width, 100%);
  }
}

/* Focus styles for accessibility */
@layer base {
  *:focus-visible {
    outline: 2px solid rgb(193 122 90); /* terracotta */
    outline-offset: 2px;
  }

  .dark *:focus-visible {
    outline-color: rgb(212 137 107); /* soft-terracotta */
  }
}
